{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/FilterForm.js","App.js","index.js"],"names":["baseUrl","axios","get","personObject","post","id","newObject","put","delete","Person","person","handlePersonDelete","name","number","onClick","Persons","persons","map","p","PersonForm","handleSubmit","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","FilterForm","filter","handleFilterChange","App","useState","setPersons","setNewName","setNewNumber","setFilter","useEffect","personService","then","response","data","personsToShow","toLowerCase","includes","event","target","preventDefault","window","confirm","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e73fef0.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = personObject => {\n    return axios.post(baseUrl, personObject)\n}\n\nconst updateNumber = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst removePerson = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n    getAll,\n    create,\n    updateNumber,\n    removePerson\n}","import React from 'react'\n\nconst Person = ({ person, handlePersonDelete }) => {\n    return(\n        <p>\n            {person.name} {person.number} <button onClick={() => handlePersonDelete(person.id)}>delete</button>\n        </p>\n    )\n}\n\nexport default Person","import React from 'react'\n\nimport Person from './Person'\n\nconst Persons = ({ persons, handlePersonDelete }) => {\n    return(\n        <div>\n            {persons.map(p => \n                <Person key={p.id} person={p} handlePersonDelete={handlePersonDelete}/>\n            )}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, newName, newNumber, handleNameChange, handleNumberChange }) => {\n    return(\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange}/>\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst FilterForm = ({ filter, handleFilterChange }) => {\n    return(\n        <form>\n            filter shown with <input value={filter} onChange={handleFilterChange}/>\n        </form>\n    )\n}\n\nexport default FilterForm","import React, { useState, useEffect } from 'react'\n\nimport personService from './services/persons'\n\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport FilterForm from './components/FilterForm'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter ] = useState('')\n\n  useEffect(() => {\n      personService\n        .getAll()\n        .then(response => {\n            setPersons(response.data)\n        })\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n        name: newName,\n        number: newNumber\n    }\n\n    if(persons.map(p => p.name).includes(newName)) {\n\n        const id = persons.filter(p => p.name === newName).map(p => p.id)\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          personService\n            .updateNumber(id, personObject)\n            .then(response => {\n              setPersons(persons.map(p => p.id === response.data.id ? response.data : p))\n            })\n        }\n    } else {\n        personService\n            .create(personObject)\n            .then(response => {\n                setPersons(persons.concat(response.data))\n            })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handlePersonDelete = (id) => {\n    const name = persons.filter(p => p.id === id).map(p => p.name)\n\n    if(window.confirm(`Delete ${name} ?`)) {\n      personService\n        .removePerson(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const personsToShow = (filter === '')\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <FilterForm filter={filter} handleFilterChange={handleFilterChange}/>\n\n      <h3>Add a new person</h3>\n      <PersonForm \n        handleSubmit={addPerson} \n        newName={newName} newNumber={newNumber} \n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handlePersonDelete={handlePersonDelete}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}